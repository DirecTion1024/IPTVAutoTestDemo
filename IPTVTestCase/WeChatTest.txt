*** Settings ***
Resource          ../Resources/WeChat_Environment.txt
Library           AppiumLibrary

*** Test Cases ***
test
    ${Process}    Set Variable    com.tencent.mm:appbrand1
    ${androidProcess}=    Create Dictionary    androidProcess=${Process}
    ${UNICODEKEYBOARD}    Set Variable    True
    ${RESETKEYBOARD}    Set Variable    True
    Open Application    ${SERVERURL}    platformName=${PLATFORMNAME}    platformVersion=${PLATFORMVERSION}    deviceName=${DEVICENAME}    automationName=${AUTOMATIONNAME}    appPackage=${APPPACKAGE}
    ...    appActivity=${APPACTIVITY}    noSign=${NOSIGN}    udid=${UDID}    unicodeKeyboard=True    resetKeyboard=True    chromeOptions=${androidProcess}
    sleep    5
    Wait Until Page Contains    微信
    Click Text    发现
    sleep    1
    Click Text    小程序
    sleep    2
    Click Text    美团外卖+
    Sleep    20
    ${contexts}    get_contexts
    ${current_context}    get_current_context
    Switch To Context    WEBVIEW_com.tencent.mm:appbrand1
    ${current_context}    get_current_context
